# Neighbor Park 购物系统使用指南

## 🛍️ 购物系统功能

### 完整购物流程

1. **浏览商品** → 2. **加入购物车** → 3. **查看购物车** → 4. **填写信息** → 5. **选择支付** → 6. **完成订单**

---

## 📱 功能详解

### 1. 首页圆点轮播 ✓

**已修复！三个圆点现在可见**

**交互方式**：
- 🔘 **点击圆点**：切换到对应幻灯片
- ⏸️ **停留5秒**：点击后暂停自动播放5秒
- ▶️ **自动播放**：每3秒自动切换
- 🔄 **恢复播放**：5秒后恢复自动播放

**位置**：首页Hero区域底部

---

### 2. 购物车系统

#### 功能特点：
- ✅ 实时更新数量
- ✅ 显示购物车徽章
- ✅ 自动计算总价
- ✅ 满500免运费
- ✅ localStorage本地存储

#### 使用方法：

**添加商品**：
```
1. 浏览Shop区域
2. 点击"加入购物车"按钮
3. 看到"已加入购物车！"提示
4. 购物车徽章自动更新数量
```

**查看购物车**：
```
1. 点击导航栏"🛒 Cart"
2. 查看已添加的商品
3. 可以调整数量
4. 可以移除商品
```

**调整数量**：
- 点击 **−** 减少数量
- 点击 **+** 增加数量
- 直接输入数字修改
- 数量为0时自动移除

---

### 3. 结算流程

#### 填写收货信息：

**必填信息**：
- 姓名
- 电话
- 详细地址

**选填信息**：
- 备注（给卖家留言）

#### 选择支付方式：

**支持的支付方式**：

1. **💚 微信支付**
   - 点击微信支付卡片
   - 显示绿色二维码
   - 扫码完成支付

2. **💙 支付宝支付**
   - 点击支付宝卡片
   - 显示蓝色二维码
   - 扫码完成支付

---

### 4. 支付流程

#### 提交订单：

```
步骤1：填写完整信息
步骤2：选择支付方式
步骤3：点击"提交订单"
步骤4：弹出支付二维码
步骤5：扫码支付（模拟）
步骤6：点击"已完成支付"
步骤7：自动清空购物车
步骤8：跳转到首页
```

#### 支付弹窗：

**微信支付**：
- 💚 绿色二维码图标
- 提示使用微信扫码
- 确认支付或取消

**支付宝支付**：
- 💙 蓝色二维码图标
- 提示使用支付宝扫码
- 确认支付或取消

---

## 📊 订单管理

### 订单数据存储

**存储位置**：`localStorage`
**存储键**：`neighborpark_orders`

**订单包含信息**：
```javascript
{
    orderNumber: "NP1730000000000",  // 订单号
    name: "张三",                     // 姓名
    phone: "13800138000",            // 电话
    address: "北京市朝阳区...",       // 地址
    notes: "尽快发货",               // 备注
    paymentMethod: "wechat",         // 支付方式
    items: [...],                    // 商品列表
    subtotal: 398,                   // 小计
    shipping: 20,                    // 运费
    total: 418,                      // 总计
    orderDate: "2025-11-06..."       // 下单时间
}
```

### 查看订单

**方法1：浏览器控制台**
```javascript
// 打开控制台（F12）
// 输入以下命令
JSON.parse(localStorage.getItem('neighborpark_orders'))
```

---

## 🎯 界面导航

### 导航栏结构：

```
[NEIGHBOR PARK] - Films - Articles - Shop - [🛒 Cart (2)] - Admin
```

- **Films**：浏览纪录片
- **Articles**：阅读文章
- **Shop**：购物商城
- **🛒 Cart**：购物车（显示数量）
- **Admin**：后台管理

---

## 💡 使用技巧

### 1. 快速购物
```
1. 首页滚动到Shop区域
2. 直接点击"加入购物车"
3. 商品立即添加
4. 继续浏览或去结算
```

### 2. 批量购买
```
1. 多次点击"加入购物车"
2. 数量自动累加
3. 购物车统一管理
4. 一次性结算
```

### 3. 修改数量
```
方法1：购物车页面调整
方法2：重新添加（数量+1）
方法3：直接输入数字
```

---

## ⚠️ 注意事项

### localStorage限制

**存储空间**：5-10MB（浏览器决定）

**影响**：
- 商品数据
- 购物车数据
- 订单数据

**建议**：
- 定期清理订单
- 避免存储大量数据
- 优先使用URL图片

### 数据持久性

**购物车数据**：
- ✅ 刷新页面保留
- ✅ 关闭浏览器保留
- ❌ 清除缓存丢失
- ❌ 隐私模式不保存

**订单数据**：
- ✅ 本地存储
- ❌ 不同步到服务器
- ⚠️ 仅存储在浏览器

---

## 🐛 常见问题

### Q1: 购物车数字不更新？

**解决**：
1. 刷新页面
2. 检查浏览器控制台
3. 确认JavaScript正常运行

### Q2: 无法添加商品？

**检查**：
1. 是否在Shop区域
2. 按钮是否可点击
3. 控制台是否报错
4. localStorage是否已满

### Q3: 订单提交后找不到？

**说明**：
- 订单存储在localStorage
- 打开控制台查看
- 命令：`localStorage.getItem('neighborpark_orders')`

### Q4: 支付完成后数据丢失？

**原因**：
- 支付完成会清空购物车
- 这是正常流程

**查看订单**：
- 使用localStorage查看
- 未来版本可添加订单页面

### Q5: 圆点按钮看不见？

**已修复！**
- 圆点现在在Hero区域底部
- 白色圆点，半透明背景
- 鼠标悬停会放大
- 激活状态完全不透明

---

## 🚀 文件清单

### 新增文件：

1. **cart.js** (4.2KB)
   - 购物车管理类
   - 添加/删除/更新功能
   - 数量统计
   - 通知提示

2. **cart.html** (13KB)
   - 购物车页面
   - 商品列表展示
   - 数量调整
   - 订单摘要

3. **checkout.html** (17KB)
   - 结算页面
   - 收货信息表单
   - 支付方式选择
   - 支付弹窗

### 更新文件：

1. **index.html** (28KB)
   - 添加购物车链接
   - 添加购物车徽章
   - 商品添加按钮
   - 修复圆点轮播

---

## 📝 代码示例

### 添加商品到购物车：

```javascript
// 在任何页面调用
cart.addToCart(
    productId,      // 商品ID
    'Logo Tee',     // 商品名称
    199,            // 价格
    'https://...'   // 图片URL
);
```

### 查看购物车：

```javascript
// 获取购物车数据
const cartData = cart.getCart();

// 获取商品总数
const count = cart.getCartCount();

// 获取总价
const total = cart.getCartTotal();
```

### 更新数量：

```javascript
// 更新指定商品数量
cart.updateQuantity(productId, 5);

// 移除商品
cart.removeFromCart(productId);

// 清空购物车
cart.clearCart();
```

---

## 🎉 版本特性

### v6.0 新功能：

1. ✅ **完整购物车系统**
2. ✅ **微信支付支持**
3. ✅ **支付宝支付支持**
4. ✅ **订单管理功能**
5. ✅ **购物车徽章**
6. ✅ **满额免运费**
7. ✅ **圆点轮播修复**

---

**版本**: v6.0  
**更新**: 2025-11-06  

🛍️ 完整的购物体验，从浏览到支付一步到位！
